# =============================================================================
# MCP Platform Backend - Environment Configuration
# =============================================================================
# This file contains all environment variables required for the MCP Platform.
# Copy this file to .env and update the values for your environment.
# IMPORTANT: Never commit .env files with real credentials to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# APP_NAME: Display name of the application
APP_NAME=MCP Platform API

# APP_VERSION: Current version of the application
APP_VERSION=1.0.0

# DEBUG: Enable debug mode (true/false). Set to false in production!
DEBUG=false

# ENVIRONMENT: Deployment environment (development/staging/production)
ENVIRONMENT=production

# -----------------------------------------------------------------------------
# Database - MySQL (Structured Data)
# -----------------------------------------------------------------------------
# MySQL is used for storing structured data: users, MCP tools, deployments, etc.
# MYSQL_HOST: Hostname or IP address of MySQL server
MYSQL_HOST=localhost

# MYSQL_PORT: MySQL server port (default: 3306)
MYSQL_PORT=3306

# MYSQL_USER: MySQL username for authentication
MYSQL_USER=mcp_user

# MYSQL_PASSWORD: MySQL password (CHANGE THIS IN PRODUCTION!)
MYSQL_PASSWORD=your_secure_mysql_password_here

# MYSQL_DATABASE: Name of the MySQL database to use
MYSQL_DATABASE=mcp_platform

# -----------------------------------------------------------------------------
# Database - MongoDB (Document Store)
# -----------------------------------------------------------------------------
# MongoDB is used for storing document data: version history, task results, etc.
# MONGODB_URL: Full MongoDB connection string
# Format: mongodb://[username:password@]host[:port][/database][?options]
MONGODB_URL=mongodb://localhost:27017

# MONGODB_DATABASE: Name of the MongoDB database to use
MONGODB_DATABASE=mcp_platform

# -----------------------------------------------------------------------------
# Database - Redis (Cache & Session Store)
# -----------------------------------------------------------------------------
# Redis is used for caching, session management, and task result storage
# REDIS_HOST: Hostname or IP address of Redis server
REDIS_HOST=localhost

# REDIS_PORT: Redis server port (default: 6379)
REDIS_PORT=6379

# REDIS_DB: Redis database number (0-15, default: 0)
REDIS_DB=0

# REDIS_PASSWORD: Redis password (leave empty if no password is set)
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Message Broker - RabbitMQ (Task Queue)
# -----------------------------------------------------------------------------
# RabbitMQ is used as the message broker for Celery task queue
# RABBITMQ_HOST: Hostname or IP address of RabbitMQ server
RABBITMQ_HOST=localhost

# RABBITMQ_PORT: RabbitMQ server port (default: 5672)
RABBITMQ_PORT=5672

# RABBITMQ_USER: RabbitMQ username for authentication
RABBITMQ_USER=guest

# RABBITMQ_PASSWORD: RabbitMQ password (CHANGE THIS IN PRODUCTION!)
RABBITMQ_PASSWORD=guest

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
# SECRET_KEY: Secret key for JWT token signing (MUST BE CHANGED IN PRODUCTION!)
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-in-production-min-32-chars

# JWT_ALGORITHM: Algorithm used for JWT token signing (HS256 or RS256)
# Use RS256 for production with public/private key pairs
JWT_ALGORITHM=HS256

# ACCESS_TOKEN_EXPIRE_MINUTES: JWT access token expiration time in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=15

# REFRESH_TOKEN_EXPIRE_DAYS: JWT refresh token expiration time in days
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# External Services - OpenAI
# -----------------------------------------------------------------------------
# OpenAI API is used for AI-powered analysis and embeddings
# OPENAI_API_KEY: Your OpenAI API key (required for AI features)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_API_BASE=https://api.openai.com/v1

# -----------------------------------------------------------------------------
# External Services - GitHub
# -----------------------------------------------------------------------------
# GitHub integration for repository synchronization
# GITHUB_TOKEN: Personal access token for GitHub API
# Create a token at: https://github.com/settings/tokens
# Required scopes: repo, read:org
GITHUB_TOKEN=ghp_your_github_token

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# CORS_ORIGINS: Comma-separated list of allowed origins for CORS
# Format: ["http://localhost:3000","https://app.example.com"]
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# CORS_ALLOW_CREDENTIALS: Allow credentials in CORS requests (true/false)
CORS_ALLOW_CREDENTIALS=true

# CORS_ALLOW_METHODS: Allowed HTTP methods for CORS (use ["*"] for all)
CORS_ALLOW_METHODS=["*"]

# CORS_ALLOW_HEADERS: Allowed HTTP headers for CORS (use ["*"] for all)
CORS_ALLOW_HEADERS=["*"]

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# RATE_LIMIT_PER_MINUTE: Maximum requests per minute per user/IP
RATE_LIMIT_PER_MINUTE=60

# RATE_LIMIT_ENABLED: Enable rate limiting (true/false)
RATE_LIMIT_ENABLED=true

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# LOG_LEVEL: Logging level (DEBUG/INFO/WARNING/ERROR/CRITICAL)
LOG_LEVEL=INFO

# LOG_FORMAT: Log output format (json/text)
# Use 'json' for production (structured logging), 'text' for development
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Celery Worker Configuration (Optional)
# -----------------------------------------------------------------------------
# These settings are used by Celery workers for task processing
# CELERY_WORKER_CONCURRENCY: Number of concurrent worker processes
CELERY_WORKER_CONCURRENCY=4

# CELERY_WORKER_PREFETCH_MULTIPLIER: Number of tasks to prefetch per worker
CELERY_WORKER_PREFETCH_MULTIPLIER=4

# CELERY_WORKER_MAX_TASKS_PER_CHILD: Max tasks before worker restart (prevents memory leaks)
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# =============================================================================
# End of Configuration
# =============================================================================
